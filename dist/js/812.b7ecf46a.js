"use strict";(self["webpackChunkhippocrates"]=self["webpackChunkhippocrates"]||[]).push([[812],{812:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var i=e(252);const a=t=>((0,i.dD)("data-v-a5d3d978"),t=t(),(0,i.Cn)(),t),r={key:0,class:"wrapTesting"},o={class:"container content_vebinar"},n=a((()=>(0,i._)("h1",{class:"title_test"}," Тестовий вебінар ",-1)));function l(t,s,e,a,l,c){const d=(0,i.up)("Testing");return l.idVebinar?((0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",o,[n,(0,i.Wm)(d,{proId:l.idVebinar,type:l.type},null,8,["proId","type"])])])):(0,i.kq)("",!0)}var c=e(577),d=e(963);const h={key:0},u={key:0},p={class:"lq_item"},f={class:"lq_number"},_={class:"lq_question"},g={key:0,class:"ansver_list"},w=["for"],b=["id","onClick"],y=(0,i._)("svg",{class:"MuiSvgIcon-root",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,i._)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1),k=["for"],v={key:1,class:"ansver_list"},T=["id","name","onClick"],m=["for"],$=(0,i._)("svg",{class:"MuiSvgIcon-root",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,i._)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})],-1),z=(0,i._)("svg",{class:"MuiSvgIcon-root jss55",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,i._)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})],-1),I=[$,z],C=["for"],D={key:1},V={key:0,class:"block_success"},q=(0,i._)("h3",null,"Вітаємо! Ви пройшли тест",-1),x=(0,i._)("p",null,"Ваш відсоток правильних відповідей",-1),A={class:"interest"},B={key:1,class:"block_success"},Z=(0,i._)("p",null,"Ваш відсоток правильних відповідей",-1),M={class:"interest"},S={key:0},E={key:1},H={key:2,class:"block_success"},N=(0,i._)("h3",null,"Тест не пройдено!",-1),j=[N];function G(t,s,e,a,r,o){return r.infoTest.user_statistics?((0,i.wg)(),(0,i.iD)("div",h,[r.infoTest.user_statistics.test_available&&""===r.resultInfo?((0,i.wg)(),(0,i.iD)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.testVebinar,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:"list_question",key:s},[(0,i._)("div",p,[(0,i._)("p",f,"Питання №"+(0,c.zw)(s+1),1),(0,i._)("p",_,(0,c.zw)(t.title),1),t.multiple_answers?((0,i.wg)(),(0,i.iD)("div",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.answers_set,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"wrap_checkbox",key:a},[(0,i._)("label",{class:"wrap_check_radio",for:"radio_"+s+a},[(0,i._)("input",{type:"checkbox",id:"radio_"+s+a,onClick:s=>o.addAnsverChebox(t.id,e.id,e.correct=!e.correct)},null,8,b),y],8,w),(0,i._)("label",{for:"radio_"+s+a},(0,c.zw)(e.title),9,k)])))),128))])):((0,i.wg)(),(0,i.iD)("div",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.answers_set,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"wrap_radio",key:a},[(0,i._)("input",{type:"radio",id:"radio_"+s+a,name:"radio_"+s,onClick:s=>o.addAnsverRadio(t.id,e.id)},null,8,T),(0,i._)("label",{class:"jss54 jss56",for:"radio_"+s+a},I,8,m),(0,i._)("label",{for:"radio_"+s+a},(0,c.zw)(e.title),9,C)])))),128))]))])])))),128)),(0,i._)("button",{onClick:s[0]||(s[0]=t=>o.postTest()),class:"btn_test_complete"},"Завершити тест")])):((0,i.wg)(),(0,i.iD)("div",D,[r.resultInfo.success?((0,i.wg)(),(0,i.iD)("div",V,[q,x,(0,i._)("span",A,(0,c.zw)(r.userTest.result)+"%",1)])):r.resultInfo.success?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",B,[Z,(0,i._)("span",M,(0,c.zw)(r.resultInfo.result)+"%",1),0!==r.infoTest.max_tries?((0,i.wg)(),(0,i.iD)("p",S,"Кількість спроб: "+(0,c.zw)(r.infoTest.max_tries-r.infoTest.user_statistics.tries),1)):(0,i.kq)("",!0),0===r.infoTest.max_tries?((0,i.wg)(),(0,i.iD)("p",E,"Кількість спроб: Безліч")):(0,i.kq)("",!0),0===r.infoTest.max_tries||r.infoTest.max_tries>r.infoTest.user_statistics.tries?((0,i.wg)(),(0,i.iD)("a",{key:2,href:"#",onClick:s[1]||(s[1]=(0,d.iM)((t=>o.restart()),["prevent"])),class:"btn_certificate"},"Спробувати ще!")):(0,i.kq)("",!0)])),r.infoTest.max_tries!==r.infoTest.user_statistics.tries||0===r.infoTest.max_tries||r.resultInfo.success?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",H,j))]))])):(0,i.kq)("",!0)}var K=e(121),Y={name:"TestVebinar",props:["proId","type"],data(){return{testVebinar:[],sertificate:"",resultInfo:"",infoTest:[],userTest:{}}},created(){this.getNotify()},methods:{async getSertificat(t){this.$message("Очікуйте зараз іде підготовка сертифіката"),await(0,K.Z)({url:`https://asprof-test.azurewebsites.net/api/${this.type}/${t}/test/results/certificate/`,data:this.userTest,method:"get",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{console.log(t.data);var s=document.createElement("a");s.style="display: none",s.href=`data:application/pdf;base64,<?= ${t.data} ?>`,s.download="download.pdf",document.body.appendChild(s),s.click(),document.body.removeChild(s)})).catch((t=>{console.log(t),this.$message("Помилка")})).finally()},restart(){this.resultInfo="",this.getNotify()},addAnsverChebox(t,s,e){if(e)this.userTest[t].push(s);else for(let i=0;i<this.userTest[t].length;i++)this.userTest[t][i]==s&&this.userTest[t].splice(i,1)},addAnsverRadio(t,s){this.userTest[t]=s},async postTest(){let t="";"webinars"===this.type?t=`https://asprof-test.azurewebsites.net/api/${this.proId}/test/results/`:"courses"===this.type&&(t=`https://asprof-test.azurewebsites.net/api/${this.proId}/testing/results/`),await(0,K.Z)({url:t,data:this.userTest,method:"POST",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{this.resultInfo=t.data})).catch((t=>{console.log(t),this.$message("Помилка")})).finally((()=>this.loading=!1)),this.getNotify()},async getNotify(){let t="",s="uk";"ua"!=this.$i18n.locale&&(s=this.$i18n.locale),"webinars"===this.type?t=`https://asprof-test.azurewebsites.net/${s}/api/${this.proId}/test/`:"courses"===this.type&&(t=`https://asprof-test.azurewebsites.net/${s}/api/${this.proId}/progress/`),await(0,K.Z)({url:t,method:"GET",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{this.testVebinar=t.data.questions_set,this.infoTest=t.data})).catch((t=>{console.log(t),this.$message("Помилка")})).finally((()=>this.loading=!1)),this.infoTest.user_statistics.test_available?("webinars"===this.type?t=`https://asprof-test.azurewebsites.net/api/${this.proId}/test/`:"courses"===this.type&&(t=`https://asprof-test.azurewebsites.net/api/${this.proId}/testing/`),await(0,K.Z)({url:t,method:"GET",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{this.testVebinar=t.data.questions_set;for(let s=0;s<this.testVebinar.length;s++){this.testVebinar[s].multiple_answers?this.userTest[this.testVebinar[s].id]=[]:this.userTest[this.testVebinar[s].id]="";for(let t=0;t<this.testVebinar[s].answers_set.length;t++)this.testVebinar[s].answers_set[t].correct=!1}})).catch((t=>{console.log(t),this.$message("Помилка")})).finally((()=>this.loading=!1))):("webinars"===this.type?t=`https://asprof-test.azurewebsites.net/api/${this.proId}/test/results/`:"courses"===this.type&&(t=`https://asprof-test.azurewebsites.net/api/${this.proId}/testing/results/`),await(0,K.Z)({url:t,method:"GET",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{this.testVebinar=t.data.questions_set,this.userTest=t.data[0],this.resultInfo=t.data[0]})).catch((t=>{console.log(t),this.$message("Помилка")})).finally((()=>this.loading=!1)))}}},L=e(744);const P=(0,L.Z)(Y,[["render",G]]);var R=P,O={components:{Testing:R},data(){return{idVebinar:"webinars/"+this.$route.params.Pid4,type:"webinars"}}};const W=(0,L.Z)(O,[["render",l],["__scopeId","data-v-a5d3d978"]]);var F=W}}]);
//# sourceMappingURL=812.b7ecf46a.js.map