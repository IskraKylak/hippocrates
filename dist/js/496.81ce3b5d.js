"use strict";(self["webpackChunkhippocrates"]=self["webpackChunkhippocrates"]||[]).push([[496],{6496:function(t,e,s){s.r(e),s.d(e,{default:function(){return J}});var i=s(6252);const a={key:0,class:"wrapTesting"};function r(t,e,s,r,o,n){const l=(0,i.up)("Testing");return o.idVebinar?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(l,{proId:o.idVebinar,type:o.type},null,8,["proId","type"])])):(0,i.kq)("",!0)}var o=s(3577),n=s(9963);const l={class:"container content_vebinar"},c=(0,i._)("h1",{class:"title_test"}," Тестовий вебінар ",-1),d={key:0},h={key:0},u={class:"lq_item"},p={class:"lq_number"},_={class:"lq_question"},f={key:0,class:"ansver_list"},g=["for"],w=["id","onClick"],b=(0,i._)("svg",{class:"MuiSvgIcon-root",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,i._)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1),k=["for"],y={key:1,class:"ansver_list"},v=["id","name","onClick"],T=["for"],m=(0,i._)("svg",{class:"MuiSvgIcon-root",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,i._)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})],-1),$=(0,i._)("svg",{class:"MuiSvgIcon-root jss55",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,i._)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})],-1),z=[m,$],I=["for"],C={key:1},D={key:0,class:"block_success"},V=(0,i._)("h3",null,'Вітаємо! Ви пройшли тест до курсу "Тестовий вебінар"',-1),q=(0,i._)("p",null,"Ваш відсоток правильних відповідей",-1),x={class:"interest"},A=(0,i._)("p",null,'Ви можете отримати Сертифікат про проходження курсу "Тестовий вебінар"',-1),B={key:1,class:"block_success"},M=(0,i._)("p",null,"Ваш відсоток правильних відповідей",-1),S={class:"interest"},E={key:0},H={key:1},N={key:2,class:"block_success"},j=(0,i._)("h3",null,"Тест не пройдено!",-1),G=[j];function K(t,e,s,a,r,m){return(0,i.wg)(),(0,i.iD)("div",l,[c,r.infoTest.user_statistics?((0,i.wg)(),(0,i.iD)("div",d,[r.infoTest.user_statistics.test_available&&""===r.resultInfo?((0,i.wg)(),(0,i.iD)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.testVebinar,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"list_question",key:e},[(0,i._)("div",u,[(0,i._)("p",p,"Питання №"+(0,o.zw)(e+1),1),(0,i._)("p",_,(0,o.zw)(t.title),1),t.multiple_answers?((0,i.wg)(),(0,i.iD)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.answers_set,((s,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"wrap_checkbox",key:a},[(0,i._)("label",{class:"wrap_check_radio",for:"radio_"+e+a},[(0,i._)("input",{type:"checkbox",id:"radio_"+e+a,onClick:e=>m.addAnsverChebox(t.id,s.id,s.correct=!s.correct)},null,8,w),b],8,g),(0,i._)("label",{for:"radio_"+e+a},(0,o.zw)(s.title),9,k)])))),128))])):((0,i.wg)(),(0,i.iD)("div",y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.answers_set,((s,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"wrap_radio",key:a},[(0,i._)("input",{type:"radio",id:"radio_"+e+a,name:"radio_"+e,onClick:e=>m.addAnsverRadio(t.id,s.id)},null,8,v),(0,i._)("label",{class:"jss54 jss56",for:"radio_"+e+a},z,8,T),(0,i._)("label",{for:"radio_"+e+a},(0,o.zw)(s.title),9,I)])))),128))]))])])))),128)),(0,i._)("button",{onClick:e[0]||(e[0]=t=>m.postTest()),class:"btn_test_complete"},"Завершити тест")])):((0,i.wg)(),(0,i.iD)("div",C,[r.resultInfo.success?((0,i.wg)(),(0,i.iD)("div",D,[V,q,(0,i._)("span",x,(0,o.zw)(r.userTest.result)+"%",1),A,(0,i._)("a",{href:"#",onClick:e[1]||(e[1]=(0,n.iM)((t=>m.getSertificat(s.proId)),["prevent"])),class:"btn_certificate"},"Отримати сертифікат")])):r.resultInfo.success?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",B,[M,(0,i._)("span",S,(0,o.zw)(r.resultInfo.result)+"%",1),0!==r.infoTest.max_tries?((0,i.wg)(),(0,i.iD)("p",E,"Кількість спроб: "+(0,o.zw)(r.infoTest.max_tries-r.infoTest.user_statistics.tries),1)):(0,i.kq)("",!0),0===r.infoTest.max_tries?((0,i.wg)(),(0,i.iD)("p",H,"Кількість спроб: Безліч")):(0,i.kq)("",!0),0===r.infoTest.max_tries||r.infoTest.max_tries>r.infoTest.user_statistics.tries?((0,i.wg)(),(0,i.iD)("a",{key:2,href:"#",onClick:e[2]||(e[2]=(0,n.iM)((t=>m.restart()),["prevent"])),class:"btn_certificate"},"Спробувати ще!")):(0,i.kq)("",!0)])),r.infoTest.max_tries!==r.infoTest.user_statistics.tries||0===r.infoTest.max_tries||r.resultInfo.success?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",N,G))]))])):(0,i.kq)("",!0)])}var Y=s(9669),Z=s.n(Y),L={name:"TestVebinar",props:["proId","type"],data(){return{testVebinar:[],sertificate:"",resultInfo:"",infoTest:[],userTest:{}}},created(){this.getNotify()},methods:{async getSertificat(t){console.log(`https://asprof-test.azurewebsites.net/api/${this.type}/${t}/test/results/certificate/`),console.log(this.$store.getters.getToken),this.$message("Очікуйте зараз іде підготовка сертифіката"),await Z()({url:`https://asprof-test.azurewebsites.net/api/${this.type}/${t}/test/results/certificate/`,data:this.userTest,method:"get",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{console.log(t.data);var e=document.createElement("a");e.style="display: none",e.href=`data:application/pdf;base64,<?= ${t.data} ?>`,e.download="download.pdf",document.body.appendChild(e),e.click(),document.body.removeChild(e)})).catch((t=>{console.log(t),this.$message("Помилка")})).finally()},restart(){this.resultInfo="",this.getNotify()},addAnsverChebox(t,e,s){if(s)this.userTest[t].push(e);else for(let i=0;i<this.userTest[t].length;i++)this.userTest[t][i]==e&&this.userTest[t].splice(i,1)},addAnsverRadio(t,e){this.userTest[t]=e},async postTest(){await Z()({url:`https://asprof-test.azurewebsites.net/api/${this.type}/${this.proId}/test/results/`,data:this.userTest,method:"POST",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{this.resultInfo=t.data})).catch((t=>{console.log(t),this.$message("Помилка")})).finally((()=>this.loading=!1)),this.getNotify()},async getNotify(){await Z()({url:`https://asprof-test.azurewebsites.net/api/${this.type}/${this.proId}/test/`,method:"GET",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{this.testVebinar=t.data.questions_set,this.infoTest=t.data})).catch((t=>{console.log(t),this.$message("Помилка")})).finally((()=>this.loading=!1)),this.infoTest.user_statistics.test_available?await Z()({url:`https://asprof-test.azurewebsites.net/api/${this.type}/${this.proId}/test/`,method:"GET",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{this.testVebinar=t.data.questions_set;for(let e=0;e<this.testVebinar.length;e++){this.testVebinar[e].multiple_answers?this.userTest[this.testVebinar[e].id]=[]:this.userTest[this.testVebinar[e].id]="";for(let t=0;t<this.testVebinar[e].answers_set.length;t++)this.testVebinar[e].answers_set[t].correct=!1}})).catch((t=>{console.log(t),this.$message("Помилка")})).finally((()=>this.loading=!1)):await Z()({url:`https://asprof-test.azurewebsites.net/api/${this.type}/${this.proId}/test/results/`,method:"GET",headers:{Authorization:"Bearer "+this.$store.getters.getToken}}).then((t=>{this.testVebinar=t.data.questions_set,this.userTest=t.data[0],this.resultInfo=t.data[0]})).catch((t=>{console.log(t),this.$message("Помилка")})).finally((()=>this.loading=!1))}}},P=s(3744);const R=(0,P.Z)(L,[["render",K]]);var O=R,W={components:{Testing:O},data(){return{idVebinar:this.$route.params.Pid4,type:"webinars"}}};const F=(0,P.Z)(W,[["render",r],["__scopeId","data-v-db4da81c"]]);var J=F}}]);
//# sourceMappingURL=496.81ce3b5d.js.map